<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>COC.Base.Setoid</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library COC.Base.Setoid</h1>

<div class="code">

<br/>
<span class="id" type="keyword">Set Implicit Arguments</span>.<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab34"></a><h1 class="section">Setoid &amp; Map</h1>

まずは Setoid とその間の変換である Map の定義を行ないます。
 
<div class="paragraph"> </div>

 関数 f を Proper クラスのインスタンスとすることで、
<span class="inlinecode">=</span> でなくとも rewrite が使えるようになります。
圏論を展開していく上では、様々な定理の証明に射の等価性が表れますので、
rewrite による書き換えが出来るというのは非常にありがたいことです。
  以降のファイルでは一々これらのライブラリを入れるのは手間なので、
ここで Export しておきましょう 
</div>
<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Init.html#"><span class="id" type="library">Init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Program.Basics.html#"><span class="id" type="library">Basics</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Tactics.html#"><span class="id" type="library">Tactics</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Setoids.Setoid.html#"><span class="id" type="library">Coq.Setoids.Setoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Morphisms.html#"><span class="id" type="library">Morphisms</span></a>.<br/>

<br/>
</div>

<div class="doc">
基本的に、数学的構造の定義は

<div class="paragraph"> </div>

<ul class="doclist">
<li> まずは仕様を表わす Class を定義し、

</li>
<li> それから仕様を含めた構成要素全てを内包する Structure を定義

</li>
</ul>
という順番で進めていきます。

<div class="paragraph"> </div>

ただし、Setoid についてはその仕様である同値関係を表わす Class が
既に存在しているので、 Structure の定義から始めましょう。
 
</div>
<div class="code">
<span class="id" type="keyword">Structure</span> <a name="Setoid"><span class="id" type="record">Setoid</span></a> :=<br/>
&nbsp;&nbsp;{ <a name="carrier"><span class="id" type="projection">carrier</span></a> :&gt; <span class="id" type="keyword">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="equal"><span class="id" type="projection">equal</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Relations.Relation_Definitions.html#relation"><span class="id" type="definition">relation</span></a> <a class="idref" href="COC.Base.Setoid.html#carrier"><span class="id" type="method">carrier</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="prf_Setoid"><span class="id" type="projection">prf_Setoid</span></a> :&gt; <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.RelationClasses.html#Equivalence"><span class="id" type="class">Equivalence</span></a> <a class="idref" href="COC.Base.Setoid.html#equal"><span class="id" type="method">equal</span></a> }.<br/>
<span class="id" type="keyword">Notation</span> <a name="makeSetoid"><span class="id" type="abbreviation">makeSetoid</span></a> <span class="id" type="var">eq</span> := (@<a class="idref" href="COC.Base.Setoid.html#Build_Setoid"><span class="id" type="constructor">Build_Setoid</span></a> <span class="id" type="var">_</span> <span class="id" type="var">eq</span> <span class="id" type="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
これらは Haskell のセクションのように使いたい場合に備えての記法集です 
</div>
<div class="code">
<span class="id" type="keyword">Notation</span> <a name="::'(==)'"><span class="id" type="notation">"</span></a>(==)" := (<a class="idref" href="COC.Base.Setoid.html#equal"><span class="id" type="projection">equal</span></a> (<span class="id" type="var">s</span>:=<span class="id" type="var">_</span>)).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'=='_x_':>'_x"><span class="id" type="notation">"</span></a>x == y :&gt; S" := (@<a class="idref" href="COC.Base.Setoid.html#equal"><span class="id" type="projection">equal</span></a> <span class="id" type="var">S</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="keyword">no</span> <span class="id" type="keyword">associativity</span>, <span class="id" type="var">y</span> <span class="id" type="tactic">at</span> <span class="id" type="var">next</span> <span class="id" type="keyword">level</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'=='_x"><span class="id" type="notation">"</span></a>x == y" := (<a class="idref" href="COC.Base.Setoid.html#equal"><span class="id" type="projection">equal</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="keyword">no</span> <span class="id" type="keyword">associativity</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'('_x_'=='_')'"><span class="id" type="notation">"</span></a>( x == )" := (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> =&gt; <span class="id" type="var">x</span> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#y"><span class="id" type="variable">y</span></a>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'('_'=='_x_')'"><span class="id" type="notation">"</span></a>( == x )" := (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> =&gt; <a class="idref" href="COC.Base.Setoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <span class="id" type="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
Map も Setoid と同様に仕様を表わす Class である Proper が
    定義されているので、 直接 Structure を定義します。
 
</div>
<div class="code">
<span class="id" type="keyword">Structure</span> <a name="Map"><span class="id" type="record">Map</span></a> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>) :=<br/>
&nbsp;&nbsp;{ <a name="fbody"><span class="id" type="projection">fbody</span></a>:&gt; <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="fbody_Proper"><span class="id" type="projection">fbody_Proper</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Morphisms.html#Proper"><span class="id" type="class">Proper</span></a> (<a class="idref" href="COC.Base.Setoid.html#::'(==)'"><span class="id" type="notation">(==)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Morphisms.html#ProperNotations.:signature_scope:x_'==>'_x"><span class="id" type="notation">==&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#::'(==)'"><span class="id" type="notation">(==)</span></a>) <a class="idref" href="COC.Base.Setoid.html#fbody"><span class="id" type="method">fbody</span></a> }.<br/>
<span class="id" type="keyword">Notation</span> <a name="makeMap"><span class="id" type="abbreviation">makeMap</span></a> <span class="id" type="var">f</span> := (@<a class="idref" href="COC.Base.Setoid.html#Build_Map"><span class="id" type="constructor">Build_Map</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <span class="id" type="var">_</span>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">"</span></a>[ x .. y :-&gt; p ]" := <br/>
&nbsp;&nbsp;(<a class="idref" href="COC.Base.Setoid.html#makeMap"><span class="id" type="abbreviation">makeMap</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; .. (<a class="idref" href="COC.Base.Setoid.html#makeMap"><span class="id" type="abbreviation">makeMap</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> =&gt; <span class="id" type="var">p</span>)) ..))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 200, <span class="id" type="var">x</span> <span class="id" type="var">binder</span>, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">format</span> "'[' [ x .. y :-&gt; '/ ' p ] ']'").<br/>

<br/>
</div>

<div class="doc">
<a name="lab35"></a><h2 class="section">Attributes of Map</h2>

</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="injective"><span class="id" type="definition">injective</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>)(<span class="id" type="var">f</span>: <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="COC.Base.Setoid.html#B"><span class="id" type="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>, <a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="surjective"><span class="id" type="definition">surjective</span></a> (<span class="id" type="var">A</span> <span class="id" type="var">B</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>)(<span class="id" type="var">f</span>: <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="COC.Base.Setoid.html#B"><span class="id" type="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">b</span>: <a class="idref" href="COC.Base.Setoid.html#B"><span class="id" type="variable">B</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">a</span>: <a class="idref" href="COC.Base.Setoid.html#A"><span class="id" type="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#b"><span class="id" type="variable">b</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab36"></a><h2 class="section">composition &amp; identity</h2>

</div>
<div class="code">
<span class="id" type="keyword">Program Definition</span> <a name="compose_Map"><span class="id" type="definition">compose_Map</span></a> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>)(<span class="id" type="var">f</span>: <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a>)(<span class="id" type="var">g</span>: <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a> <a class="idref" href="COC.Base.Setoid.html#Z"><span class="id" type="variable">Z</span></a>): <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Z"><span class="id" type="variable">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="COC.Base.Setoid.html#::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">[</span></a> <span class="id" type="var">x</span> <a class="idref" href="COC.Base.Setoid.html#::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">:-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#g"><span class="id" type="variable">g</span></a> (<a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="COC.Base.Setoid.html#::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
<span class="id" type="keyword">Program Definition</span> <a name="id_Map"><span class="id" type="definition">id_Map</span></a> (<span class="id" type="var">X</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>): <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> := <a class="idref" href="COC.Base.Setoid.html#::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">x</span> <a class="idref" href="COC.Base.Setoid.html#::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">:-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="COC.Base.Setoid.html#::'['_x_'..'_x_':->'_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map 上の等価性は外延的等価性と同等のもので定義。  
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="equal_Map"><span class="id" type="definition">equal_Map</span></a> {<span class="id" type="var">X</span> <span class="id" type="var">Y</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>}(<span class="id" type="var">f</span> <span class="id" type="var">g</span>: <a class="idref" href="COC.Base.Setoid.html#Map"><span class="id" type="record">Map</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a>): <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span>: <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a>, <a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a>.<br/>

<br/>
<span class="id" type="keyword">Instance</span> <a name="equal_Map_Equiv"><span class="id" type="instance">equal_Map_Equiv</span></a> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.RelationClasses.html#Equivalence"><span class="id" type="class">Equivalence</span></a> (@<a class="idref" href="COC.Base.Setoid.html#equal_Map"><span class="id" type="definition">equal_Map</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a>).<br/>

<br/>
</div>

<div class="doc">
同値関係であることが示せれば、Map 自身も Setoid となる。 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Setoid_Map"><span class="id" type="definition">Setoid_Map</span></a> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>): <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a> := <a class="idref" href="COC.Base.Setoid.html#Build_Setoid"><span class="id" type="constructor">Build_Setoid</span></a> (<a class="idref" href="COC.Base.Setoid.html#equal_Map_Equiv"><span class="id" type="instance">equal_Map_Equiv</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a>).<br/>
<span class="id" type="keyword">Canonical</span> <span class="id" type="keyword">Structure</span> <a class="idref" href="COC.Base.Setoid.html#Setoid_Map"><span class="id" type="definition">Setoid_Map</span></a>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::'(-->)'"><span class="id" type="notation">"</span></a>(--&gt;)" := <a class="idref" href="COC.Base.Setoid.html#Setoid_Map"><span class="id" type="definition">Setoid_Map</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'-->'_x"><span class="id" type="notation">"</span></a>X --&gt; Y" := (<a class="idref" href="COC.Base.Setoid.html#Setoid_Map"><span class="id" type="definition">Setoid_Map</span></a> <span class="id" type="var">X</span> <span class="id" type="var">Y</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 55, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>

<br/>
</div>

<div class="doc">
時々使う補題です  
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eq_arg"><span class="id" type="lemma">eq_arg</span></a>:<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">X</span> <span class="id" type="var">Y</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>)(<span class="id" type="var">f</span>: <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'-->'_x"><span class="id" type="notation">--&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a>)(<span class="id" type="var">x</span> <span class="id" type="var">y</span>: <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="COC.Base.Setoid.html#y"><span class="id" type="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab37"></a><h2 class="section">Unique Existance for Setoid</h2>

</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Unique"><span class="id" type="definition">Unique</span></a> (<span class="id" type="var">A</span>: <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>)(<span class="id" type="var">P</span>: <a class="idref" href="COC.Base.Setoid.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <span class="id" type="keyword">Prop</span>)(<span class="id" type="var">x</span>: <a class="idref" href="COC.Base.Setoid.html#A"><span class="id" type="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="COC.Base.Setoid.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">forall</span> <span class="id" type="var">x'</span>: <a class="idref" href="COC.Base.Setoid.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="COC.Base.Setoid.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="COC.Base.Setoid.html#x'"><span class="id" type="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="COC.Base.Setoid.html#::x_'=='_x"><span class="id" type="notation">==</span></a> <a class="idref" href="COC.Base.Setoid.html#x'"><span class="id" type="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::'Exists'_'!'_x_'..'_x_','_x"><span class="id" type="notation">"</span></a>'Exists' ! x .. y , p" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#ex"><span class="id" type="inductive">ex</span></a> (<a class="idref" href="COC.Base.Setoid.html#Unique"><span class="id" type="definition">Unique</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; .. (<a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#ex"><span class="id" type="inductive">ex</span></a> (<a class="idref" href="COC.Base.Setoid.html#Unique"><span class="id" type="definition">Unique</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">y</span> =&gt; <span class="id" type="var">p</span>))) ..)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 200, <span class="id" type="var">x</span> <span class="id" type="var">binder</span>, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">format</span> "'[' 'Exists' ! '/ ' x .. y , '/ ' p ']'").<br/>

<br/>
</div>

<div class="doc">
<a name="lab38"></a><h2 class="section">Operational Type Class</h2>

    記法のための型クラスです。
    A Gentle Introduction to Type Classes and Relation on Coq を読みましょう。
 
<div class="paragraph"> </div>

<a name="lab39"></a><h3 class="section">「合成」のためのクラス</h3>

</div>
<div class="code">
<span class="id" type="keyword">Class</span> <a name="Compose"><span class="id" type="record">Compose</span></a> (<span class="id" type="var">T</span>: <span class="id" type="keyword">Type</span>)(<span class="id" type="var">hom</span>: <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>): <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;{ <a name="compose"><span class="id" type="projection">compose</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span>: <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a>, <a class="idref" href="COC.Base.Setoid.html#hom"><span class="id" type="variable">hom</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#hom"><span class="id" type="variable">hom</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a> <a class="idref" href="COC.Base.Setoid.html#Z"><span class="id" type="variable">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#hom"><span class="id" type="variable">hom</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Z"><span class="id" type="variable">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="compose_Proper"><span class="id" type="projection">compose_Proper</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">X</span> <span class="id" type="var">Y</span> <span class="id" type="var">Z</span>: <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Morphisms.html#Proper"><span class="id" type="class">Proper</span></a> (<a class="idref" href="COC.Base.Setoid.html#::'(==)'"><span class="id" type="notation">(==)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Morphisms.html#ProperNotations.:signature_scope:x_'==>'_x"><span class="id" type="notation">==&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#::'(==)'"><span class="id" type="notation">(==)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Classes.Morphisms.html#ProperNotations.:signature_scope:x_'==>'_x"><span class="id" type="notation">==&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#::'(==)'"><span class="id" type="notation">(==)</span></a>) (@<a class="idref" href="COC.Base.Setoid.html#compose"><span class="id" type="method">compose</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#Y"><span class="id" type="variable">Y</span></a> <a class="idref" href="COC.Base.Setoid.html#Z"><span class="id" type="variable">Z</span></a>) }.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'\o'_x"><span class="id" type="notation">"</span></a>g \o f" := (<a class="idref" href="COC.Base.Setoid.html#compose"><span class="id" type="method">compose</span></a> <span class="id" type="var">f</span> <span class="id" type="var">g</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60, <span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab40"></a><h3 class="section">「恒等変換」のためのクラス</h3>

</div>
<div class="code">
<span class="id" type="keyword">Class</span> <a name="Identity"><span class="id" type="record">Identity</span></a> (<span class="id" type="var">T</span>: <span class="id" type="keyword">Type</span>)(<span class="id" type="var">hom</span>: <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/trunk/stdlib/Coq.Init.Logic.html#:type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="COC.Base.Setoid.html#Setoid"><span class="id" type="record">Setoid</span></a>): <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a name="identity"><span class="id" type="projection">identity</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">X</span>: <a class="idref" href="COC.Base.Setoid.html#T"><span class="id" type="variable">T</span></a>, <a class="idref" href="COC.Base.Setoid.html#hom"><span class="id" type="variable">hom</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="COC.Base.Setoid.html#X"><span class="id" type="variable">X</span></a>.<br/>
<span class="id" type="keyword">Coercion</span> <a class="idref" href="COC.Base.Setoid.html#identity"><span class="id" type="definition">identity</span></a>: <span class="id" type="var">Identity</span> &gt;-&gt; <span class="id" type="var">Funclass</span>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::'Id'_x"><span class="id" type="notation">"</span></a>'Id' X" := (<a class="idref" href="COC.Base.Setoid.html#identity"><span class="id" type="definition">identity</span></a> <span class="id" type="var">X</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>

<br/>
</div>

<div class="doc">
<a name="lab41"></a><h3 class="section">Map を登録</h3>

</div>
<div class="code">
<span class="id" type="keyword">Instance</span> <a name="Compose_Map"><span class="id" type="instance">Compose_Map</span></a>: <a class="idref" href="COC.Base.Setoid.html#Compose"><span class="id" type="class">Compose</span></a> <a class="idref" href="COC.Base.Setoid.html#::'(-->)'"><span class="id" type="notation">(--&gt;)</span></a> := { <a class="idref" href="COC.Base.Setoid.html#compose"><span class="id" type="method">compose</span></a> := <a class="idref" href="COC.Base.Setoid.html#compose_Map"><span class="id" type="definition">compose_Map</span></a> }.<br/>

<br/>
<span class="id" type="keyword">Instance</span> <a name="Identity_Map"><span class="id" type="instance">Identity_Map</span></a>: <a class="idref" href="COC.Base.Setoid.html#Identity"><span class="id" type="class">Identity</span></a> <a class="idref" href="COC.Base.Setoid.html#::'(-->)'"><span class="id" type="notation">(--&gt;)</span></a> := <a class="idref" href="COC.Base.Setoid.html#id_Map"><span class="id" type="definition">id_Map</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>