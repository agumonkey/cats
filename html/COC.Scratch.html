<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>COC.Scratch</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library COC.Scratch</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Prelude.html#"><span class="id" title="library">Coq.Init.Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Program.Tactics.html#"><span class="id" title="library">Coq.Program.Tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Contextual</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Reversible</span> <span class="id" title="var">Pattern</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Universe</span> <span class="id" title="var">Polymorphism</span>.<br/>

<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="var">Nonrecursive</span> <span class="id" title="var">Elimination</span> <span class="id" title="var">Schemes</span>.<br/>
<span class="id" title="keyword">Obligation</span> <span class="id" title="keyword">Tactic</span> := <span class="id" title="tactic">idtac</span>.<br/>

<br/>
<span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">All</span> <span class="id" title="keyword">Variables</span>.<br/>
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">基本となる道具</h1>

Setoid や Setoid 間の写像である Map など、圏を定義する上で必要となる道具を定義する。
 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab2"></a><h2 class="section">関係と性質</h2>

同値関係の定義に向けて、性質を表すクラスを定義していく
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="relation"><span class="id" title="definition">relation</span></a> (<span class="id" title="var">X</span>: <span class="id" title="keyword">Type</span>) := <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Reflexive"><span class="id" title="record">Reflexive</span></a> `(<span class="id" title="var">R</span>: <a class="idref" href="COC.Scratch.html#relation"><span class="id" title="definition">relation</span></a> <span class="id" title="var">X</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a name="reflexivity"><span class="id" title="projection">reflexivity</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>, <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Symmetric"><span class="id" title="record">Symmetric</span></a> `(<span class="id" title="var">R</span>: <a class="idref" href="COC.Scratch.html#relation"><span class="id" title="definition">relation</span></a> <span class="id" title="var">X</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a name="symmetry"><span class="id" title="projection">symmetry</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>, <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="COC.Scratch.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Transitive"><span class="id" title="record">Transitive</span></a> `(<span class="id" title="var">R</span>: <a class="idref" href="COC.Scratch.html#relation"><span class="id" title="definition">relation</span></a> <span class="id" title="var">X</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a name="transitivity"><span class="id" title="projection">transitivity</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>, <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="COC.Scratch.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="COC.Scratch.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#z"><span class="id" title="variable">z</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Equivalence"><span class="id" title="record">Equivalence</span></a> `(<span class="id" title="var">R</span>: <a class="idref" href="COC.Scratch.html#relation"><span class="id" title="definition">relation</span></a> <span class="id" title="var">X</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="equiv_Reflexive"><span class="id" title="projection">equiv_Reflexive</span></a>:&gt; <a class="idref" href="COC.Scratch.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="equiv_Symmetric"><span class="id" title="projection">equiv_Symmetric</span></a>:&gt; <a class="idref" href="COC.Scratch.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="equiv_Transitive"><span class="id" title="projection">equiv_Transitive</span></a>:&gt; <a class="idref" href="COC.Scratch.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="COC.Scratch.html#R"><span class="id" title="variable">R</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">equiv_Reflexive</span>.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">equiv_Symmetric</span>.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">equiv_Transitive</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab3"></a><h2 class="section">Setoid</h2>

同値関係を伴う型。
 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Setoid"><span class="id" title="module">Setoid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a name="Setoid.type"><span class="id" title="record">type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Setoid.make"><span class="id" title="constructor">make</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Setoid.carrier"><span class="id" title="projection">carrier</span></a>: <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Setoid.equal"><span class="id" title="projection">equal</span></a>: <a class="idref" href="COC.Scratch.html#Setoid.relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="COC.Scratch.html#carrier"><span class="id" title="method">carrier</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Setoid.prf"><span class="id" title="projection">prf</span></a>: <a class="idref" href="COC.Scratch.html#Setoid.Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="COC.Scratch.html#equal"><span class="id" title="method">equal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Setoid.build"><span class="id" title="abbreviation">build</span></a> <span class="id" title="var">equal</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="COC.Scratch.html#Setoid.make"><span class="id" title="constructor">make</span></a> <span class="id" title="var">_</span> <span class="id" title="var">equal</span> (@<a class="idref" href="COC.Scratch.html#Setoid.Build_Equivalence"><span class="id" title="constructor">Build_Equivalence</span></a> <span class="id" title="var">_</span> <span class="id" title="var">equal</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Setoid.Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a> := <a class="idref" href="COC.Scratch.html#Setoid.Notations.type"><span class="id" title="record">type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Setoid.Notations.carrier"><span class="id" title="projection">carrier</span></a>: <span class="id" title="var">Setoid</span> &gt;-&gt; <span class="id" title="var">Sortclass</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Setoid.Notations.prf"><span class="id" title="projection">prf</span></a>: <span class="id" title="var">Setoid</span> &gt;-&gt; <span class="id" title="var">Equivalence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">prf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="79d1768a4b1560e05ba4e24499e7578d"><span class="id" title="notation">&quot;</span></a>x == y :&gt; X" := (@<a class="idref" href="COC.Scratch.html#Setoid.Notations.equal"><span class="id" title="projection">equal</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">&quot;</span></a>x == y" := (<span class="id" title="var">x</span> <a class="idref" href="COC.Scratch.html#79d1768a4b1560e05ba4e24499e7578d"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span> <a class="idref" href="COC.Scratch.html#79d1768a4b1560e05ba4e24499e7578d"><span class="id" title="notation">:&gt;</span></a> <span class="id" title="var">_</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Setoid.Notations.mkSetoid"><span class="id" title="abbreviation">mkSetoid</span></a> <span class="id" title="var">equiv</span> := (<a class="idref" href="COC.Scratch.html#Setoid.Notations.make"><span class="id" title="constructor">make</span></a> <span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Setoid.Notations"><span class="id" title="module">Notations</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Setoid"><span class="id" title="module">Setoid</span></a>.<br/>
<span class="id" title="keyword">Export</span> <span class="id" title="var">Setoid.Notations</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab4"></a><h2 class="section">Map</h2>

Setoid 間の "写像"
 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Map"><span class="id" title="module">Map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="Map.spec"><span class="id" title="record">spec</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>}(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Map.substitute"><span class="id" title="projection">substitute</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>), <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a name="Map.type"><span class="id" title="record">type</span></a> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Map.make"><span class="id" title="constructor">make</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Map.f"><span class="id" title="projection">f</span></a>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Map.prf"><span class="id" title="projection">prf</span></a>: <a class="idref" href="COC.Scratch.html#Map.spec"><span class="id" title="class">spec</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="method">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Map.build"><span class="id" title="abbreviation">build</span></a> <span class="id" title="var">f</span> := (@<a class="idref" href="COC.Scratch.html#Map.make"><span class="id" title="constructor">make</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Map.Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Map.Notations.isMap"><span class="id" title="abbreviation">isMap</span></a> := <a class="idref" href="COC.Scratch.html#Map.Notations.spec"><span class="id" title="class">spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> := <a class="idref" href="COC.Scratch.html#Map.Notations.type"><span class="id" title="record">type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Map.Notations.f"><span class="id" title="projection">f</span></a>: <span class="id" title="var">Map</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Map.Notations.prf"><span class="id" title="projection">prf</span></a>: <span class="id" title="var">Map</span> &gt;-&gt; <span class="id" title="var">isMap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">prf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">&quot;</span></a>[ x .. y :-&gt; p ]" := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="COC.Scratch.html#Map.Notations.build"><span class="id" title="abbreviation">build</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ .. (<a class="idref" href="COC.Scratch.html#Map.Notations.build"><span class="id" title="abbreviation">build</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> ⇒ <span class="id" title="var">p</span>)) ..))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="var">x</span> <span class="id" title="var">binder</span>, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[' [ x .. y :-&gt; '/ ' p ] ']'").<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Map.Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Notations</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Map.dom"><span class="id" title="definition">dom</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>}(<span class="id" title="var">m</span>: <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>): <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a> := <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Map.cod"><span class="id" title="definition">cod</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>}(<span class="id" title="var">m</span>: <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>): <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a> := <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Map.compose"><span class="id" title="definition">compose</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>: <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>}(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>)(<span class="id" title="var">g</span>: <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a>): <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">[</span></a> <span class="id" title="var">x</span> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.substitute"><span class="id" title="definition">Map.substitute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Map.id"><span class="id" title="definition">id</span></a> (<span class="id" title="var">X</span>: <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>): <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> := <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">[</span></a> <span class="id" title="var">x</span> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Map.equal"><span class="id" title="definition">equal</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>}: <a class="idref" href="COC.Scratch.html#Map.relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> ⇒ <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>: <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>, <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Map.setoid"><span class="id" title="definition">setoid</span></a> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>): <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Setoid.build"><span class="id" title="abbreviation">Setoid.build</span></a> (@<a class="idref" href="COC.Scratch.html#Map.equal"><span class="id" title="definition">equal</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="COC.Scratch.html#Map.reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heq</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Heq</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.symmetry"><span class="id" title="definition">symmetry</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">Heqfg</span> <span class="id" title="var">Heqgh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.transitivity"><span class="id" title="definition">transitivity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Heqfg</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Heqgh</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Map"><span class="id" title="module">Map</span></a>.<br/>
<span class="id" title="keyword">Export</span> <span class="id" title="var">Map.Notations</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab5"></a><h1 class="section">(Coq 上の)圏論</h1>

Coq のシステム上に圏論を展開する、ということ。
 
<div class="paragraph"> </div>

<a name="lab6"></a><h2 class="section">圏</h2>

対象間の等価性は気にしないため、対象の型は <span class="inlinecode"><span class="id" title="keyword">Type</span></span>

<div class="paragraph"> </div>

射全体に対する型は定義せず、対象から <span class="inlinecode"><a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a></span> への函数と捉える。
射の等価性が重要な要素なので、 Hom 集合ではなく Hom Setoid が色々な場面で活躍する(はず)。
 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Category"><span class="id" title="module">Category</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="Category.spec"><span class="id" title="record">spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">obj</span>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arr</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">comp</span>: <span class="id" title="keyword">∀</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a>}, <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">id</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a>, <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.proof"><span class="id" title="constructor">proof</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.comp_subst"><span class="id" title="projection">comp_subst</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a>)(<span class="id" title="var">f</span> <span class="id" title="var">f'</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>)(<span class="id" title="var">g</span> <span class="id" title="var">g'</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> <a class="idref" href="COC.Scratch.html#f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="COC.Scratch.html#g'"><span class="id" title="variable">g'</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.comp_assoc"><span class="id" title="projection">comp_assoc</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>)(<span class="id" title="var">g</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a>)(<span class="id" title="var">h</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="COC.Scratch.html#W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#h"><span class="id" title="variable">h</span></a>) <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> (<a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="COC.Scratch.html#h"><span class="id" title="variable">h</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.comp_id_dom"><span class="id" title="projection">comp_id_dom</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a>)(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>), <a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> (<a class="idref" href="COC.Scratch.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>) <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.comp_id_cod"><span class="id" title="projection">comp_id_cod</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="variable">obj</span></a>)(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="variable">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>), <a class="idref" href="COC.Scratch.html#comp"><span class="id" title="variable">comp</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="COC.Scratch.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a name="Category.type"><span class="id" title="record">type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.make"><span class="id" title="constructor">make</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.obj"><span class="id" title="projection">obj</span></a>: <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.arr"><span class="id" title="projection">arr</span></a>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="method">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="method">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#Setoid.Notations.Setoid"><span class="id" title="abbreviation">Setoid</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.comp"><span class="id" title="projection">comp</span></a>: <span class="id" title="keyword">∀</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="method">obj</span></a>}, <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="method">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="method">arr</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="method">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.id"><span class="id" title="projection">id</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>: <a class="idref" href="COC.Scratch.html#obj"><span class="id" title="method">obj</span></a>, <a class="idref" href="COC.Scratch.html#arr"><span class="id" title="method">arr</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Category.prf"><span class="id" title="projection">prf</span></a>: <a class="idref" href="COC.Scratch.html#Category.spec"><span class="id" title="class">spec</span></a> (@<a class="idref" href="COC.Scratch.html#comp"><span class="id" title="method">comp</span></a>) (@<a class="idref" href="COC.Scratch.html#id"><span class="id" title="method">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Category.build"><span class="id" title="abbreviation">build</span></a> <span class="id" title="var">arr</span> <span class="id" title="var">comp</span> <span class="id" title="var">id</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="COC.Scratch.html#Category.make"><span class="id" title="constructor">make</span></a> <span class="id" title="var">_</span> <span class="id" title="var">arr</span> <span class="id" title="var">comp</span> <span class="id" title="var">id</span> (@<a class="idref" href="COC.Scratch.html#Category.proof"><span class="id" title="constructor">proof</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Category.Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a> := <a class="idref" href="COC.Scratch.html#Category.Notations.type"><span class="id" title="record">type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Category.Notations.isCategory"><span class="id" title="abbreviation">isCategory</span></a> := <a class="idref" href="COC.Scratch.html#Category.Notations.spec"><span class="id" title="class">spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Category.Notations.obj"><span class="id" title="projection">obj</span></a>: <span class="id" title="var">Category</span> &gt;-&gt; <span class="id" title="var">Sortclass</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Category.Notations.arr"><span class="id" title="projection">arr</span></a>: <span class="id" title="var">Category</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Category.Notations.prf"><span class="id" title="projection">prf</span></a>: <span class="id" title="var">Category</span> &gt;-&gt; <span class="id" title="var">isCategory</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">prf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">&quot;</span></a>g \o{ C } f" := (@<a class="idref" href="COC.Scratch.html#Category.Notations.comp"><span class="id" title="projection">comp</span></a> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">&quot;</span></a>g \o f" := (<span class="id" title="var">g</span> <a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">\</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">o</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">{</span></a><span class="id" title="var">_</span><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">}</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="cad4a3083b5afe8da4f64e82bb4e48fa"><span class="id" title="notation">&quot;</span></a>'Id' X" := (@<a class="idref" href="COC.Scratch.html#Category.Notations.id"><span class="id" title="projection">id</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Category.Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Notations</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h3 class="section">圏の双対</h3>

<span class="inlinecode"><span class="id" title="var">Category.build</span></span> のおかげで定義しやすい気がする。
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Category.op"><span class="id" title="definition">op</span></a> (<span class="id" title="var">C</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>): <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Category.build"><span class="id" title="abbreviation">build</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> ⇒ <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> ⇒ <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">\</span></a><a class="idref" href="COC.Scratch.html#60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">o</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> ⇒ <a class="idref" href="COC.Scratch.html#cad4a3083b5afe8da4f64e82bb4e48fa"><span class="id" title="notation">Id</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_subst"><span class="id" title="projection">comp_subst</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.symmetry"><span class="id" title="definition">symmetry</span></a>, <a class="idref" href="COC.Scratch.html#Category.comp_assoc"><span class="id" title="projection">comp_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_id_cod"><span class="id" title="projection">comp_id_cod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_id_dom"><span class="id" title="projection">comp_id_dom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Category"><span class="id" title="module">Category</span></a>.<br/>
<span class="id" title="keyword">Export</span> <span class="id" title="var">Category.Notations</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab8"></a><h2 class="section">Setoid の圏: Setoids</h2>

例にちょうどよい。
あと、 Hom 函手を定義する時とかに使うのでここで作っておこう。
 
</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a name="Setoids"><span class="id" title="definition">Setoids</span></a>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Category.build"><span class="id" title="abbreviation">Category.build</span></a> (@<a class="idref" href="COC.Scratch.html#Map.setoid"><span class="id" title="definition">Map.setoid</span></a>) (@<a class="idref" href="COC.Scratch.html#Map.compose"><span class="id" title="definition">Map.compose</span></a>) (@<a class="idref" href="COC.Scratch.html#Map.id"><span class="id" title="definition">Map.id</span></a>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">Heqf</span> <span class="id" title="var">Heqg</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#transitivity"><span class="id" title="definition">transitivity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f'</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.substitute"><span class="id" title="definition">Map.substitute</span></a>, <span class="id" title="var">Heqf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Heqg</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab9"></a><h2 class="section">函手</h2>

 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Functor"><span class="id" title="module">Functor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="Functor.spec"><span class="id" title="record">spec</span></a> (<span class="id" title="var">C</span> <span class="id" title="var">D</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fobj</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fmap</span>: <span class="id" title="keyword">∀</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>}, <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> (<a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a> (<a class="idref" href="COC.Scratch.html#fobj"><span class="id" title="variable">fobj</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="COC.Scratch.html#fobj"><span class="id" title="variable">fobj</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>))) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.proof"><span class="id" title="constructor">proof</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.fmap_comp"><span class="id" title="projection">fmap_comp</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>)(<span class="id" title="var">g</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#fmap"><span class="id" title="variable">fmap</span></a> (<a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">\</span></a><a class="idref" href="COC.Scratch.html#60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">o</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#fmap"><span class="id" title="variable">fmap</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">\</span></a><a class="idref" href="COC.Scratch.html#60c44e2feae5d5702b362a26cb33b5b3"><span class="id" title="notation">o</span></a> <a class="idref" href="COC.Scratch.html#fmap"><span class="id" title="variable">fmap</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.fmap_id"><span class="id" title="projection">fmap_id</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>), <a class="idref" href="COC.Scratch.html#fmap"><span class="id" title="variable">fmap</span></a> (<a class="idref" href="COC.Scratch.html#cad4a3083b5afe8da4f64e82bb4e48fa"><span class="id" title="notation">Id</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>) <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#cad4a3083b5afe8da4f64e82bb4e48fa"><span class="id" title="notation">Id</span></a> <a class="idref" href="COC.Scratch.html#cad4a3083b5afe8da4f64e82bb4e48fa"><span class="id" title="notation">(</span></a><a class="idref" href="COC.Scratch.html#fobj"><span class="id" title="variable">fobj</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="COC.Scratch.html#cad4a3083b5afe8da4f64e82bb4e48fa"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a name="Functor.type"><span class="id" title="record">type</span></a> (<span class="id" title="var">C</span> <span class="id" title="var">D</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.make"><span class="id" title="constructor">make</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.fobj"><span class="id" title="projection">fobj</span></a>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.fmap"><span class="id" title="projection">fmap</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>, <a class="idref" href="COC.Scratch.html#Map.Notations.Map"><span class="id" title="abbreviation">Map</span></a> (<a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a> (<a class="idref" href="COC.Scratch.html#fobj"><span class="id" title="method">fobj</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="COC.Scratch.html#fobj"><span class="id" title="method">fobj</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>));<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Functor.prf"><span class="id" title="projection">prf</span></a>: <a class="idref" href="COC.Scratch.html#Functor.spec"><span class="id" title="class">spec</span></a> (@<a class="idref" href="COC.Scratch.html#fmap"><span class="id" title="method">fmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Functor.build"><span class="id" title="abbreviation">build</span></a> <span class="id" title="var">fobj</span> <span class="id" title="var">fmap</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="COC.Scratch.html#Functor.make"><span class="id" title="constructor">make</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fobj</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">fmap</span>) (@<a class="idref" href="COC.Scratch.html#Functor.proof"><span class="id" title="constructor">proof</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="Functor.Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> := <a class="idref" href="COC.Scratch.html#Functor.Notations.type"><span class="id" title="record">type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Functor.Notations.isFunctor"><span class="id" title="abbreviation">isFunctor</span></a> := <a class="idref" href="COC.Scratch.html#Functor.Notations.spec"><span class="id" title="class">spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Functor.Notations.fobj"><span class="id" title="projection">fobj</span></a>: <span class="id" title="var">Functor</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <a class="idref" href="COC.Scratch.html#Functor.Notations.prf"><span class="id" title="projection">prf</span></a>: <span class="id" title="var">Functor</span> &gt;-&gt; <span class="id" title="var">isFunctor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">prf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="Functor.Notations.fmap"><span class="id" title="abbreviation">fmap</span></a> <span class="id" title="var">F</span> <span class="id" title="var">f</span> := (@<a class="idref" href="COC.Scratch.html#Functor.Notations.fmap"><span class="id" title="projection">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Functor.Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Notations</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Functor.compose"><span class="id" title="definition">compose</span></a> (<span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span>: <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a>)(<span class="id" title="var">G</span>: <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> <a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="COC.Scratch.html#E"><span class="id" title="variable">E</span></a>): <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#E"><span class="id" title="variable">E</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Functor.build"><span class="id" title="abbreviation">build</span></a> <span class="id" title="var">_</span> (<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">[</span></a> <span class="id" title="var">f</span> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="COC.Scratch.html#Functor.Notations.fmap"><span class="id" title="abbreviation">fmap</span></a> <a class="idref" href="COC.Scratch.html#G"><span class="id" title="variable">G</span></a> (<a class="idref" href="COC.Scratch.html#Functor.Notations.fmap"><span class="id" title="abbreviation">fmap</span></a> <a class="idref" href="COC.Scratch.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a>)<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> (<a class="idref" href="COC.Scratch.html#Map.substitute"><span class="id" title="definition">Map.substitute</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="COC.Scratch.html#Functor.transitivity"><span class="id" title="definition">transitivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.substitute"><span class="id" title="definition">Map.substitute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.fmap_comp"><span class="id" title="projection">Functor.fmap_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.fmap_comp"><span class="id" title="projection">Functor.fmap_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="COC.Scratch.html#Functor.transitivity"><span class="id" title="definition">transitivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.substitute"><span class="id" title="definition">Map.substitute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.fmap_id"><span class="id" title="projection">Functor.fmap_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.fmap_id"><span class="id" title="projection">Functor.fmap_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Functor.id"><span class="id" title="definition">id</span></a> (<span class="id" title="var">C</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>): <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Functor.build"><span class="id" title="abbreviation">build</span></a> <span class="id" title="var">_</span> (<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">[</span></a> <span class="id" title="var">f</span> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">]</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="COC.Scratch.html#Map.id"><span class="id" title="definition">Map.id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab10"></a><h3 class="section">函手の等価性</h3>

いわゆる heterogeneous equality とかいうやつらしい。
JMeq の仲間(だろう、多分)。

<div class="paragraph"> </div>

ちなみに、 <span class="inlinecode"><a class="idref" href="COC.Scratch.html#Functor.eq_Hom"><span class="id" title="inductive">eq_Hom</span></a></span> ではなく <span class="inlinecode"><span class="id" title="var">JMeq</span></span> を使うと、後々示したいものが示せなくなるので注意。
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="Functor.eq_Hom"><span class="id" title="inductive">eq_Hom</span></a> (<span class="id" title="var">C</span> : <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)(<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">Z</span> <span class="id" title="var">W</span>: <span class="id" title="var">C</span>), <span class="id" title="var">C</span> <a class="idref" href="COC.Scratch.html#Z"><span class="id" title="variable">Z</span></a> <a class="idref" href="COC.Scratch.html#W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Functor.eq_Hom_def"><span class="id" title="constructor">eq_Hom_def</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">g</span>: <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>), <span class="id" title="var">f</span> <a class="idref" href="COC.Scratch.html#42a5d6f4b5360afeb45b3b08a012bbc5"><span class="id" title="notation">==</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#eq_Hom"><span class="id" title="inductive">eq_Hom</span></a> <span class="id" title="var">f</span> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">&quot;</span></a>=H" := <a class="idref" href="COC.Scratch.html#Functor.eq_Hom"><span class="id" title="inductive">eq_Hom</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Functor.eq_Hom_refl"><span class="id" title="lemma">eq_Hom_refl</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">C</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)(<span class="id" title="var">df</span> <span class="id" title="var">cf</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">bf</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="COC.Scratch.html#cf"><span class="id" title="variable">cf</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#bf"><span class="id" title="variable">bf</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#bf"><span class="id" title="variable">bf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">df</span> <span class="id" title="var">cf</span> <span class="id" title="var">bf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_def"><span class="id" title="constructor">eq_Hom_def</span></a>, <a class="idref" href="COC.Scratch.html#Functor.reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Functor.eq_Hom_symm"><span class="id" title="lemma">eq_Hom_symm</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">C</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">df</span> <span class="id" title="var">cf</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">bf</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="COC.Scratch.html#cf"><span class="id" title="variable">cf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dg</span> <span class="id" title="var">cg</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">bg</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#dg"><span class="id" title="variable">dg</span></a> <a class="idref" href="COC.Scratch.html#cg"><span class="id" title="variable">cg</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#bf"><span class="id" title="variable">bf</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#bg"><span class="id" title="variable">bg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#bg"><span class="id" title="variable">bg</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#bf"><span class="id" title="variable">bf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">df</span> <span class="id" title="var">cf</span> <span class="id" title="var">bf</span> <span class="id" title="var">dg</span> <span class="id" title="var">cg</span> <span class="id" title="var">bg</span> [<span class="id" title="var">g</span> <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_def"><span class="id" title="constructor">eq_Hom_def</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.symmetry"><span class="id" title="definition">symmetry</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Functor.eq_Hom_trans"><span class="id" title="lemma">eq_Hom_trans</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">C</span> : <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">df</span> <span class="id" title="var">cf</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">bf</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="COC.Scratch.html#cf"><span class="id" title="variable">cf</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dg</span> <span class="id" title="var">cg</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">bg</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#dg"><span class="id" title="variable">dg</span></a> <a class="idref" href="COC.Scratch.html#cg"><span class="id" title="variable">cg</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dh</span> <span class="id" title="var">ch</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">bh</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#dh"><span class="id" title="variable">dh</span></a> <a class="idref" href="COC.Scratch.html#ch"><span class="id" title="variable">ch</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#bf"><span class="id" title="variable">bf</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#bg"><span class="id" title="variable">bg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#bg"><span class="id" title="variable">bg</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#bh"><span class="id" title="variable">bh</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5beta2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="COC.Scratch.html#bf"><span class="id" title="variable">bf</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#bh"><span class="id" title="variable">bh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">df</span> <span class="id" title="var">cf</span> <span class="id" title="var">bf</span> <span class="id" title="var">dg</span> <span class="id" title="var">cg</span> <span class="id" title="var">bg</span> <span class="id" title="var">dh</span> <span class="id" title="var">ch</span> <span class="id" title="var">bh</span> [<span class="id" title="var">g</span> <span class="id" title="var">Heqg</span>] [<span class="id" title="var">h</span> <span class="id" title="var">Heqh</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_def"><span class="id" title="constructor">eq_Hom_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.transitivity"><span class="id" title="definition">transitivity</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Functor.equal"><span class="id" title="definition">equal</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">D</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>}(<span class="id" title="var">F</span> <span class="id" title="var">G</span> : <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)(<span class="id" title="var">f</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Functor.Notations.fmap"><span class="id" title="abbreviation">fmap</span></a> <a class="idref" href="COC.Scratch.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">=</span></a><a class="idref" href="COC.Scratch.html#c7b40e00d5747f67e1aba92d3db0330e"><span class="id" title="notation">H</span></a> <a class="idref" href="COC.Scratch.html#Functor.Notations.fmap"><span class="id" title="abbreviation">fmap</span></a> <a class="idref" href="COC.Scratch.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="COC.Scratch.html#Functor.equal"><span class="id" title="definition">equal</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">D</span>} / <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a name="Functor.setoid"><span class="id" title="definition">setoid</span></a> (<span class="id" title="var">C</span> <span class="id" title="var">D</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Setoid.build"><span class="id" title="abbreviation">Setoid.build</span></a> (@<a class="idref" href="COC.Scratch.html#Functor.equal"><span class="id" title="definition">equal</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#D"><span class="id" title="variable">D</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_refl"><span class="id" title="lemma">eq_Hom_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">Heq</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_symm"><span class="id" title="lemma">eq_Hom_symm</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">HeqFG</span> <span class="id" title="var">HeqGH</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">HeqGH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_trans"><span class="id" title="lemma">eq_Hom_trans</span></a>, <span class="id" title="var">HeqFG</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="COC.Scratch.html#Functor"><span class="id" title="module">Functor</span></a>.<br/>
<span class="id" title="keyword">Export</span> <span class="id" title="var">Functor.Notations</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab11"></a><h3 class="section">圏の圏：Cat</h3>

Universe Polymorphism のおかげで定義できる。
 
</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a name="Cat"><span class="id" title="definition">Cat</span></a>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Category.build"><span class="id" title="abbreviation">Category.build</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="COC.Scratch.html#Functor.setoid"><span class="id" title="definition">Functor.setoid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="COC.Scratch.html#Functor.compose"><span class="id" title="definition">Functor.compose</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="COC.Scratch.html#Functor.id"><span class="id" title="definition">Functor.id</span></a>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">F'</span> <span class="id" title="var">G</span> <span class="id" title="var">G'</span> <span class="id" title="var">HeqF</span> <span class="id" title="var">HeqG</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HeqF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_trans"><span class="id" title="lemma">Functor.eq_Hom_trans</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_def"><span class="id" title="constructor">Functor.eq_Hom_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Map.substitute"><span class="id" title="definition">Map.substitute</span></a>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HeqG</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">K</span> <span class="id" title="var">L</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_refl"><span class="id" title="lemma">Functor.eq_Hom_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_refl"><span class="id" title="lemma">Functor.eq_Hom_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Functor.eq_Hom_refl"><span class="id" title="lemma">Functor.eq_Hom_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a name="lab12"></a><h2 class="section">Hom 函手たち</h2>

<span class="inlinecode"><span class="id" title="var">Hom</span>(<a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>,-)</span> と <span class="inlinecode"><span class="id" title="var">Hom</span>(-,<a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>)</span> を作るよ。
<span class="inlinecode"><span class="id" title="var">Functor.build</span></span> 使うと定義書くのすごく楽。嬉しい。
 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

<a name="lab13"></a><h3 class="section">共変な方の <span class="inlinecode"><span class="id" title="var">Hom</span></span></h3>

 
</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a name="HomFunctor"><span class="id" title="definition">HomFunctor</span></a> (<span class="id" title="var">C</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)(<span class="id" title="var">X</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#Setoids"><span class="id" title="definition">Setoids</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Functor.build"><span class="id" title="abbreviation">Functor.build</span></a> (<a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">[</span></a> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">\</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">o</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">{</span></a><a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">}</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_subst"><span class="id" title="projection">Category.comp_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">Heq</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_subst"><span class="id" title="projection">Category.comp_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_assoc"><span class="id" title="projection">Category.comp_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_id_cod"><span class="id" title="projection">Category.comp_id_cod</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h3 class="section">反変な方の <span class="inlinecode"><span class="id" title="var">Hom</span></span></h3>

 
</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a name="OpHomFunctor"><span class="id" title="definition">OpHomFunctor</span></a> (<span class="id" title="var">C</span>: <a class="idref" href="COC.Scratch.html#Category.Notations.Category"><span class="id" title="abbreviation">Category</span></a>)(<span class="id" title="var">Y</span>: <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="COC.Scratch.html#Functor.Notations.Functor"><span class="id" title="abbreviation">Functor</span></a> (<a class="idref" href="COC.Scratch.html#Category.op"><span class="id" title="definition">Category.op</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="COC.Scratch.html#Setoids"><span class="id" title="definition">Setoids</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="COC.Scratch.html#Functor.build"><span class="id" title="abbreviation">Functor.build</span></a> (<a class="idref" href="COC.Scratch.html#Category.op"><span class="id" title="definition">Category.op</span></a> <a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="COC.Scratch.html#Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">[</span></a> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">:-&gt;</span></a> <a class="idref" href="COC.Scratch.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">\</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">o</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">{</span></a><a class="idref" href="COC.Scratch.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="COC.Scratch.html#1a1170c7b2b794520cb751f9b7d74412"><span class="id" title="notation">}</span></a> <a class="idref" href="COC.Scratch.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="COC.Scratch.html#2ce2ba9043a5d41bfec7de6af172c6b2"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">Z</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_subst"><span class="id" title="projection">Category.comp_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">Z</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_subst"><span class="id" title="projection">Category.comp_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">W</span> <span class="id" title="var">Z</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#symmetry"><span class="id" title="definition">symmetry</span></a>, <a class="idref" href="COC.Scratch.html#Category.comp_assoc"><span class="id" title="projection">Category.comp_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="COC.Scratch.html#Category.comp_id_dom"><span class="id" title="projection">Category.comp_id_dom</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab15"></a><h3 class="section">記法の定義</h3>

 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="f6c78ee611b9af2b13ae789d1ff42c94"><span class="id" title="notation">&quot;</span></a>'Hom' ( X , - )" := (<a class="idref" href="COC.Scratch.html#HomFunctor"><span class="id" title="definition">HomFunctor</span></a> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="2448437e367181dbf9756cfb10bbb1d0"><span class="id" title="notation">&quot;</span></a>'Hom' ( - , Y )" := (<a class="idref" href="COC.Scratch.html#OpHomFunctor"><span class="id" title="definition">OpHomFunctor</span></a> <span class="id" title="var">Y</span>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>